# çœŸå®æ–°é—»æ•°æ®è·å–å®ç°

## âœ… å·²å®Œæˆ

NewsCollectorService ç°åœ¨æ”¯æŒä»çœŸå® RSS æºè·å–æ–°é—»æ•°æ®ï¼

---

## ğŸ¯ æ ¸å¿ƒåŠŸèƒ½

### 1. å¤šæº RSS æ•°æ®è·å–

**æ”¯æŒçš„æ•°æ®æºï¼š**
- **AI å…¬å¸å®˜æ–¹åšå®¢**
  - OpenAI Blog
  - Google AI Blog
  - DeepMind Blog
  - Meta AI
  - Anthropic

- **ç§‘æŠ€æ–°é—»åª’ä½“**
  - TechCrunch AI
  - VentureBeat AI
  - MIT Technology Review AI
  - The Verge AI

- **å­¦æœ¯èµ„æº**
  - arXiv AI (cs.AI)
  - arXiv ML (cs.LG)

### 2. æ™ºèƒ½åŠŸèƒ½

- âœ… **è‡ªåŠ¨å…³é”®è¯æå–**: ä»æ ‡é¢˜å’Œæ‘˜è¦ä¸­æå– AI ç›¸å…³å…³é”®è¯
- âœ… **çƒ­é—¨è¯é¢˜åˆ†æ**: åŸºäºå…³é”®è¯ç»Ÿè®¡ç”Ÿæˆçƒ­é—¨è¯é¢˜
- âœ… **ç›¸å…³æ€§æœç´¢**: æ”¯æŒæŒ‰æ ‡é¢˜ã€æ‘˜è¦ã€æ ‡ç­¾æœç´¢
- âœ… **ç¼“å­˜æœºåˆ¶**: 15 åˆ†é’Ÿç¼“å­˜ï¼Œå‡å°‘ç½‘ç»œè¯·æ±‚
- âœ… **é™çº§ä¿éšœ**: ç½‘ç»œå¤±è´¥æ—¶è‡ªåŠ¨é™çº§åˆ° Mock æ•°æ®

### 3. æ•°æ®ç»“æ„

```python
NewsItem(
    title="æ–‡ç« æ ‡é¢˜",
    summary="æ–‡ç« æ‘˜è¦ï¼ˆè‡ªåŠ¨æ¸…ç† HTMLï¼‰",
    url="åŸæ–‡é“¾æ¥",
    source="æ¥æºåç§°",
    publish_time="2024-11-19 10:30:00",
    category="åˆ†ç±»",
    tags=["å…³é”®è¯1", "å…³é”®è¯2"]
)
```

---

## ğŸš€ ä½¿ç”¨æ–¹æ³•

### å¯ç”¨çœŸå®æ•°æ®ï¼ˆé»˜è®¤ï¼‰

```python
from app.services.news_collector import NewsCollectorService

# ä½¿ç”¨çœŸå®æ•°æ®
service = NewsCollectorService(use_real_data=True)

# è·å–æœ€æ–°æ–°é—»
news = await service.get_latest_news(limit=10)

# æœç´¢æ–°é—»
results = await service.search_news("OpenAI", limit=5)

# è·å–çƒ­é—¨è¯é¢˜
trending = await service.get_trending_topics(limit=10)
```

### ä½¿ç”¨ Mock æ•°æ®ï¼ˆæµ‹è¯•ï¼‰

```python
# ä½¿ç”¨ Mock æ•°æ®ï¼ˆä¸éœ€è¦ç½‘ç»œï¼‰
service = NewsCollectorService(use_real_data=False)
news = await service.get_latest_news(limit=10)
```

---

## ğŸ§ª æµ‹è¯•

### æµ‹è¯•çœŸå®æ–°é—»è·å–

```bash
cd agent-backend

# å¯åŠ¨æœåŠ¡
uvicorn app.main:app --reload

# åœ¨å¦ä¸€ä¸ªç»ˆç«¯æµ‹è¯• API
curl -X POST http://localhost:8000/api/agent/execute \
  -H "Content-Type: application/json" \
  -d '{"input": "/latest 5", "session_id": "test"}'
```

**éªŒè¯å†…å®¹ï¼š**
1. ä» RSS æºè·å–çœŸå®æ–°é—»
2. çƒ­é—¨è¯é¢˜åˆ†æ
3. æ–°é—»æœç´¢åŠŸèƒ½
4. ç¼“å­˜æœºåˆ¶

---

## ğŸ“Š æ€§èƒ½

### å“åº”æ—¶é—´

| æ“ä½œ | é¦–æ¬¡ï¼ˆç½‘ç»œï¼‰ | ç¼“å­˜ | è¯´æ˜ |
|------|------------|------|------|
| è·å–æœ€æ–°æ–°é—» | 10-30s | < 0.1s | å¹¶å‘è·å–æ‰€æœ‰ RSS æº |
| æœç´¢æ–°é—» | 10-30s | < 0.1s | ä½¿ç”¨ç¼“å­˜æ•°æ®æœç´¢ |
| çƒ­é—¨è¯é¢˜ | 10-30s | < 0.1s | åŸºäºç¼“å­˜æ•°æ®åˆ†æ |

### ç¼“å­˜ç­–ç•¥

- **ç¼“å­˜æ—¶é•¿**: 15 åˆ†é’Ÿ
- **ç¼“å­˜å†…å®¹**: æ‰€æœ‰ RSS æºçš„æ–°é—»
- **æ›´æ–°ç­–ç•¥**: ç¼“å­˜è¿‡æœŸåè‡ªåŠ¨é‡æ–°è·å–
- **æ¸…é™¤ç¼“å­˜**: `service.clear_cache()`

---

## ğŸ”§ é…ç½®

### æ·»åŠ æ–°çš„ RSS æº

ç¼–è¾‘ `app/services/news_collector.py`:

```python
def _init_rss_feeds(self):
    self.rss_feeds = {
        # æ·»åŠ æ–°æº
        "æ–°æºåç§°": "https://example.com/rss.xml",
        
        # ç°æœ‰æº...
        "OpenAI Blog": "https://openai.com/blog/rss.xml",
        # ...
    }
```

### è°ƒæ•´ç¼“å­˜æ—¶é•¿

```python
def _init_rss_feeds(self):
    # ...
    self._cache_duration = timedelta(minutes=30)  # æ”¹ä¸º 30 åˆ†é’Ÿ
```

---

## ğŸ› æ•…éšœæ’é™¤

### é—®é¢˜ 1: ä¾èµ–æœªå®‰è£…

**é”™è¯¯ï¼š**
```
ModuleNotFoundError: No module named 'feedparser'
```

**è§£å†³ï¼š**
```bash
pip install -r requirements.txt
```

### é—®é¢˜ 2: ç½‘ç»œè¿æ¥å¤±è´¥

**ç°è±¡ï¼š** è·å–æ–°é—»æ—¶è¶…æ—¶æˆ–å¤±è´¥

**è§£å†³ï¼š**
- æ£€æŸ¥ç½‘ç»œè¿æ¥
- ç³»ç»Ÿä¼šè‡ªåŠ¨é™çº§åˆ° Mock æ•°æ®
- æŸ¥çœ‹æ—¥å¿—äº†è§£å…·ä½“å¤±è´¥çš„æº

### é—®é¢˜ 3: RSS æºä¸å¯ç”¨

**ç°è±¡ï¼š** æŸäº›æºè¿”å›ç©ºæ•°æ®

**è§£å†³ï¼š**
- RSS æºå¯èƒ½ä¸´æ—¶ä¸å¯ç”¨
- ç³»ç»Ÿä¼šè·³è¿‡å¤±è´¥çš„æºï¼Œä½¿ç”¨å…¶ä»–æºçš„æ•°æ®
- å¯ä»¥åœ¨æ—¥å¿—ä¸­çœ‹åˆ°è­¦å‘Šä¿¡æ¯

---

## ğŸ“ˆ æ•°æ®è´¨é‡

### æ–°é—»æ¥æºå¯é æ€§

- âœ… **å®˜æ–¹åšå®¢**: OpenAIã€Googleã€Meta ç­‰å®˜æ–¹æ¥æº
- âœ… **æƒå¨åª’ä½“**: TechCrunchã€MIT Technology Review
- âœ… **å­¦æœ¯èµ„æº**: arXiv è®ºæ–‡

### æ•°æ®æ›´æ–°é¢‘ç‡

- **å®˜æ–¹åšå®¢**: æ¯å‘¨ 1-3 æ¬¡
- **ç§‘æŠ€åª’ä½“**: æ¯å¤© 5-20 æ¬¡
- **å­¦æœ¯èµ„æº**: æ¯å¤© 10-50 æ¬¡

### é¢„æœŸæ•°æ®é‡

- **æ€»è®¡**: æ¯æ¬¡è·å– 100-200 æ¡æ–°é—»
- **å»é‡**: è‡ªåŠ¨æŒ‰æ—¶é—´æ’åº
- **è¿‡æ»¤**: åªä¿ç•™ AI ç›¸å…³å†…å®¹

---

## ğŸ”„ é™çº§æœºåˆ¶

### ä¸‰å±‚ä¿éšœ

```
1. çœŸå® RSS æ•°æ®ï¼ˆä¼˜å…ˆï¼‰
   â†“ ç½‘ç»œå¤±è´¥
2. ç¼“å­˜æ•°æ®ï¼ˆ15 åˆ†é’Ÿå†…ï¼‰
   â†“ ç¼“å­˜è¿‡æœŸ
3. Mock æ•°æ®ï¼ˆä¿åº•ï¼‰
```

### é™çº§è§¦å‘æ¡ä»¶

1. **ç½‘ç»œè¿æ¥å¤±è´¥**: æ— æ³•è®¿é—® RSS æº
2. **RSS è§£æå¤±è´¥**: RSS æ ¼å¼é”™è¯¯
3. **è¶…æ—¶**: å•ä¸ªæºè¶…è¿‡ 10 ç§’
4. **æ‰€æœ‰æºå¤±è´¥**: æ‰€æœ‰ RSS æºéƒ½ä¸å¯ç”¨

---

## ğŸ“š ç›¸å…³æ–‡æ¡£

- **é˜¶æ®µ 3 æ€»ç»“**: [STAGE3_SUMMARY.md](STAGE3_SUMMARY.md)
- **ç³»ç»Ÿè®¾è®¡**: [DESIGN.md](DESIGN.md)
- **API æ–‡æ¡£**: [README.md](README.md)

---

## âœ¨ æ€»ç»“

çœŸå®æ–°é—»æ•°æ®è·å–åŠŸèƒ½å·²å®Œå…¨å®ç°ï¼

**ç‰¹æ€§ï¼š**
- âœ… ä» 11+ RSS æºè·å–çœŸå®æ–°é—»
- âœ… æ™ºèƒ½å…³é”®è¯æå–å’Œåˆ†ç±»
- âœ… çƒ­é—¨è¯é¢˜è‡ªåŠ¨åˆ†æ
- âœ… 15 åˆ†é’Ÿç¼“å­˜æœºåˆ¶
- âœ… è‡ªåŠ¨é™çº§ä¿éšœ
- âœ… å®Œæ•´çš„æµ‹è¯•è¦†ç›–

**ä¸‹ä¸€æ­¥ï¼š**
1. å¯åŠ¨æœåŠ¡: `uvicorn app.main:app --reload`
2. æµ‹è¯• API: `curl -X POST http://localhost:8000/api/agent/execute ...`
3. ä½¿ç”¨å‰ç«¯æŸ¥çœ‹çœŸå®æ–°é—»

---

**åˆ›å»ºæ—¶é—´**: 2024-11-19
**çŠ¶æ€**: âœ… å®Œæˆ
